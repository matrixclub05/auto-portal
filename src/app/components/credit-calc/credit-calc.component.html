<div class="modal-header" *ngIf="_modalRef">
  <button aria-label="Close" class="close" type="button" (click)="_modalRef.close()">
    <span aria-hidden="true">×</span>
  </button>
</div>

<div [ngClass]="{'modal-body': _modalRef}">

  <div class="row top-bar">
    <div class="col-sm-4">
    </div>
    <div class="col-sm-8">
      <div class="sub-breadcrumbs">
        <h2>Кредитный калькулятор</h2>
      </div>
    </div>
  </div>

  <div class="row" *ngIf="_car">
    <app-market-car [_car]="_car" [_showCalcLink]="false" class="col-xs-12"></app-market-car>
  </div>

  <div class="calc">
    <div class="row-calc">
      <div class="label">Сумма кредита:</div>
      <div class="range"><input type="range" min="10000" max="1000000" step="500" [(ngModel)]="sumCredit"></div>
      <div class="value"><input type="text" class="form-control" [value]="sumCredit+ ' тг'"></div>
    </div>

    <div class="row-calc">
      <div class="label">Срок кредита:</div>
      <div class="range"><input type="range" min="1" max="84" step="1" id="timeCredit" [(ngModel)]="timeCredit"></div>
      <div class="value"><input type="text" class="form-control" [value]="timeCredit+ ' (мес.)'"></div>
    </div>

    <div class="row-calc">
      <div class="label">Процентная ставка:</div>
      <div class="range"><input type="range" min="0" max="40" step="0.1" id="percentRateCredit"
                                        [(ngModel)]="percentRateCredit"></div>
      <div class="value"><input type="text" class="form-control" [value]="percentRateCredit+ ' %'"></div>
    </div>
    <br class="xs-hidden">
    <div class="xs-hidden">
      Ежемесячный платеж: {{calc()}}тг
    </div>
    <div class="row-calc row">

      <div class="result-item">
        Вы берете
        <div class="result-item-price">
          {{sumCredit}}тг
        </div>
      </div>

      <i class="fa fa-arrow-right" aria-hidden="true"></i>
      <i class="fa fa-arrow-down" aria-hidden="true"></i>

      <div class="result-item">
        На <div class="result-item-price">{{timeCredit}}</div> месяцев
      </div>

      <i class="fa fa-arrow-right" aria-hidden="true"></i>
      <i class="fa fa-arrow-down" aria-hidden="true"></i>

      <div class="result-item">Возвращаете
        <div class="result-item-price">{{myRound(calc()*timeCredit)}}тг</div>
      </div>
    </div>
  </div>
  <br>


  <!--<div class="row">

    <form class="form-horizontal ng-pristine ng-valid" >

      <div class="form-group">
        <label for="sum" class="col-md-3 control-label">Сумма кредита:</label>

        <div class="col-md-2">
          <input type="range" min="10000" max="1000000" step="500" class="form-control ng-pristine ng-valid ng-touched" id="sum1" name="sumCredit" [(ngModel)]="sumCredit">
        </div>
      </div>

      <div class="form-group">
        <label for="sum" class="col-md-3 control-label">Сумма кредита:</label>

        <div class="col-md-2">
          <input type="text" class="form-control ng-pristine ng-valid ng-touched" id="sum" name="sumCredit" [(ngModel)]="sumCredit" >
        </div>

        <span class="help-block error ng-binding"></span>
      </div>

      <div class="form-group">
        <label for="date1" class="col-md-3 control-label">Срок кредита:</label>

        <div class="col-md-2">
          <input type="range" class="form-control ng-pristine ng-valid ng-touched" id="date1" name="timeCredit" [(ngModel)]="timeCredit">
        </div>

        <span class="help-block error ng-binding"></span>
      </div>

      <div class="form-group">
        <label for="date" class="col-md-3 control-label">Срок кредита ( в месяцах ):</label>

        <div class="col-md-2">
          <input type="text" class="form-control ng-pristine ng-untouched ng-valid" id="date" name="timeCredit" [(ngModel)]="timeCredit">
        </div>

        <span class="help-block error ng-binding"></span>
      </div>

      <div class="form-group">
        <label for="percents" class="col-md-3 control-label">Процентная ставка:</label>

        <div class="col-md-2">
          <input type="text" class="form-control ng-pristine ng-untouched ng-valid" id="percents" name="percentRateCredit" [(ngModel)]="percentRateCredit">
        </div>

        <span class="help-block error ng-binding"></span>
      </div>

      <div class="form-group">
        <div class="col-md-10">
          <button type="button" class="btn btn-sm btn-success" (click)="action()" >Рассчитать</button>
        </div>
      </div>

    </form>
  </div>

  <div class="row">
    <table id="res" class="table table-striped table-bordered">
      <thead>
      <tr>
        <th>№ Платежа</th>
        <th>Задолжность по кредиту </th>
        <th>Начисленные проценты </th>
        <th>Основной долг </th>
        <th>Сумма платежа </th>
      </tr>
      </thead>
      <tbody>

      <tr *ngFor="let item of results; let i = index">
        <td>{{i + 1}}</td>
        <td>{{item.zadoljnost}}</td>
        <td>{{item.na4islProcenti}}</td>
        <td>{{item.osnovnoiDolg}}</td>
        <td>{{item.sumPlatej}}</td>
      </tr>
      <tr class="info" >
        <td colspan="2"><b>Итого:</b></td>
        <td>{{sumNa4islProcenti.toLocaleString()}}</td>
        <td>{{sumSumCredit.toLocaleString()}}</td>
        <td>{{sumSumPlatej.toLocaleString()}}</td>
      </tr>

      </tbody>
    </table>
  </div>-->


</div>

<div class="modal-footer" *ngIf="_modalRef">
  <button type="button" class="btn btn-secondary" (click)="_modalRef.close()">Закрыть</button>
</div>
